<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./Referee.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Soccer Portal</title>
</head>
<body>
    <div class="image">
        <img src="./img.png" alt="Logo">
    </div>
    <br/>
    <div class="homeNavBar">
        <nav class="nav nav-pills">
            <a class="nav-link" href="./index.html">About</a>
            <a class="nav-link" href="./apply.html">Apply</a>
            <a class="nav-link" href="./Hotels.html">Hotel</a>
            <a class="nav-link" href="./FAQ.html">FAQ</a>
            <a class="nav-link" href="./Team.html">Team, Schedule</a>
            <a class="nav-link" href="./Sponsors.html">Sponsors</a>
            <a class="nav-link active" aria-current="page" href="./Referee.html">Referee</a>
            <a class="nav-link" href="./admin.html">Admin</a>
        </nav>
    </div>
    <div class="loginAndSignUP">
        <p class="loginPara">Login</p>
        <a href="./refereeSignUP.html" class="nav-link">Signup</a>
    </div>
    <div class="Login">
        <div class="input-group mb-3 loginInput">
            <input type="text" id="RefereeMailId" class="form-control" placeholder="Referee email address"aria-describedby="basic-addon2" value="" size="20%">
          </div>
        <button type="button" class="btn btn-info" onclick="GetRefereeDetails()">Get Details</button>
    </div>
    <div class="details display-block display-none">
        <p class="fs-3" id="RefereeDetailsName">Name:</p>
        <p class="fs-3" id="RefereeDetailsAddress"></p>
        <p class="fs-3" id="RefereeDetailsGrade"></p>
        <p class="fs-3" id="RefereeDetailsPay"></p>
    </div>
    

    <script type="text/javascript">
        function GetRefereeDetails(){
        emailAddress=document.getElementById('RefereeMailId').value
        url = "http://localhost:5000/api/referee/getPersonalDetails?email="+emailAddress
        var settings = {
        "url": url,
        "method": "GET",
        "timeout": 0,
        "headers": {
            "Content-Type": "application/json"
        },
        };

        $.ajax(settings).done(function (response) {
        console.log(response);
        var element = document.getElementById("RefereeDetailsName");
        element.innerHTML = "Name: " + response[0].name;
        var element = document.getElementById("RefereeDetailsAddress");
        element.innerHTML = "Address: " + response[0].address;
        var element = document.getElementById("RefereeDetailsGrade");
        element.innerHTML = "Grade: " + response[0].refereeGrade;
        var element = document.getElementById("RefereeDetailsPay");
        element.innerHTML = "Pay: " + response[0].pay + "$";
        document.querySelector(".details").classList.remove('display-none');
        });

        }
    </script> 
        
    
</body>
</html>
